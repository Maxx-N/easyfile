<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../includes/head') %>
    <link rel="stylesheet" href="/css/forms.css" />
  </head>
  <body>
    <%- include('../includes/navbar') %>
    <%- include('../includes/page-title') %>
    <main>
      <%- include('../includes/error-feedback') %>
          <form class="text-center center-half <%= errorMessages.length > 0 ? 'full-height-if-errors' : 'full-height'%>" method="POST" action="/edit-password">
            <div class="top-btn-container">
                <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                <button type="submit" class="btn btn-primary">Je change mon mot de passe !</button>
            </div>  
            <div class="scroll-container-if-top-btn">
            <div class="form-group">
                <label for="oldPassword">Mot de passe actuel</label>
                <input
                  type="password"
                  name="oldPassword"
                  id="oldPassword"
                  value="<%= oldInput.oldPassword %>"
                  class="form-control text-center <%= validationErrors.some(err => err.param === 'oldPassword') ? 'invalid' : '' %>"
                />

              </div>
              <div class="form-group">
                <label for="password">Nouveau mot de passe</label>
                <input
                  type="password"
                  name="password"
                  id="password"
                  value="<%= oldInput.password %>"
                  class="form-control text-center <%= validationErrors.some(err => err.param === 'password') ? 'invalid' : '' %>"
                />
                <small class="form-text text-muted"
                  >Au moins 8 caract√®res dont : une majuscule, une minuscule, un
                  chiffre et un symbole.</small
                >
              </div>
              <div class="form-group">
                <label for="confirmPassword"
                  >Confirmation du nouveau mot de passe</label
                >
                <input
                  type="password"
                  name="confirmPassword"
                  id="confirmPassword"
                  value="<%= oldInput.confirmPassword %>"
                  class="form-control text-center <%= validationErrors.some(err => err.param === 'confirmPassword') ? 'invalid' : '' %>"
                />
              </div>
              </div>
          </form>
    </main>
    <%- include('../includes/footer') %>
    <%- include('../includes/scripts') %>
    <script src="/js/forms.js"></script>
  </body>
</html>
